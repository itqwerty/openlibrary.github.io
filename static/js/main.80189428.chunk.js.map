{"version":3,"sources":["store/storeSlice.js","components/Search.js","components/Modal.js","App.js","reportWebVitals.js","store/store.js","index.js"],"names":["storeSlice","createSlice","name","initialState","value","id","activeClass","reducers","addStore","state","store","addId","deleteId","addClass","deleteClass","actions","selectStore","selectId","selectClass","Search","timeout","useState","data","setData","dispatch","useDispatch","sendData","textIn","fetch","then","response","json","docs","chooseItem","event","currentTarget","getAttribute","document","body","style","overflow","className","onInput","target","trim","clearTimeout","setTimeout","type","placeholder","htmlFor","onClick","preventDefault","map","item","index","data-key","src","cover_i","alt","title","author_name","edition_key","Modal","props","useSelector","payload","pic","undefined","date","publish_date","elem","join","publisher","isbn","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","storeReducer","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.80189428.chunk.js","sourcesContent":["import {createSlice} from '@reduxjs/toolkit';\r\n\r\nexport const storeSlice = createSlice({\r\n\tname: 'store',\r\n\tinitialState: {\r\n\t\tvalue: {},\r\n\t\tid: '',\r\n\t\tactiveClass: '',\r\n\t},\r\n\treducers: {\r\n\t\taddStore: (state, store) => {\r\n\t\t\tstate.value = store;\r\n\t\t},\r\n\t\taddId: (state, id) => {\r\n\t\t\tstate.id = id;\r\n\t\t},\r\n\t\tdeleteId: state => {\r\n\t\t\tstate.id = '';\r\n\t\t},\r\n\t\taddClass: state => {\r\n\t\t\tstate.activeClass = 'active';\r\n\t\t},\r\n\t\tdeleteClass: state => {\r\n\t\t\tstate.activeClass = '';\r\n\t\t},\r\n\t\t\r\n\t}\r\n})\r\n\r\nexport const {addStore, addId, deleteId, addClass, deleteClass} = storeSlice.actions;\r\nexport const selectStore = state => state.store.value;\r\nexport const selectId = state => state.store.id;\r\nexport const selectClass = state => state.store.activeClass;\r\nexport default storeSlice.reducer;","import { useState } from 'react';\r\nimport React from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport {addStore, addId, deleteId, addClass} from '../store/storeSlice';\r\n\r\n\r\n\r\nfunction Search(){\r\n  const [data, setData] = useState([]);\r\n  const dispatch = useDispatch();\r\n\r\n  let timeout;\r\n  let autoLoadDataFromForm = (event) => {\r\n    dispatch(deleteId());\r\n    let textIn = event.target.value;\r\n    textIn = textIn.trim()\r\n    if(textIn === ''){\r\n      setData([]);\r\n      return false;\r\n    }\r\n    else{\r\n        if(timeout) {\r\n          clearTimeout(timeout);\r\n      }\r\n      timeout = setTimeout(function() {\r\n          sendData(textIn);\r\n      }, 1000);\r\n    }\r\n    \r\n  }\r\n\r\n  let loadDataFromForm = (event) => {\r\n    event.preventDefault();\r\n    clearTimeout(timeout);\r\n    dispatch(deleteId());\r\n    let textIn = event.target.value;\r\n    textIn = textIn.trim()\r\n    if(textIn === ''){\r\n      setData([]);\r\n      return false;\r\n    }\r\n    else {\r\n      sendData(textIn);\r\n    }\r\n    \r\n  }\r\n\r\n  let sendData = (textIn) => {\r\n    fetch('https://openlibrary.org/search.json?limit=10&q='+ textIn)\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      setData(response.docs);\r\n      dispatch(addStore(response.docs));\r\n    })\r\n  }\r\n\r\n  function chooseItem(event){\r\n    let id = event.currentTarget.getAttribute('data-key');\r\n    dispatch(addId(id));\r\n    dispatch(addClass());\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n            <div className=\"search-component\">\r\n              <div className=\"search-bar-component col-11 col-sm-11 col-lg-8 col-xl-6\">\r\n                <div className=\"search-bar\">\r\n                  <form  className=\"search-bar-input\">\r\n                    <input onInput={autoLoadDataFromForm} type=\"text\" name=\"q\" placeholder=\"Search\"/>\r\n                    <label htmlFor=\"btn\"><i className=\"fas fa-search\"></i></label>\r\n                    <input id=\"btn\" onClick={loadDataFromForm} type=\"submit\" value=\"Search\" className=\"search-bar-submit\"/>\r\n                  </form>\r\n                </div>\r\n                <div className=\"search-dropdown\">\r\n                  <ul  className=\"search-results\">\r\n                    {data.map((item, index) => (\r\n                      <li onClick={chooseItem} data-key={index} key={item.edition_key}>\r\n                            <img src={`https://covers.openlibrary.org/b/id/${item.cover_i}-S.jpg?default=https://openlibrary.org/static/images/icons/avatar_book-sm.png`} alt=\"\"/>\r\n                            <span className=\"book-desc\">\r\n                                <div className=\"book-title\">{item.title}</div> by <span className=\"book-author\">{item.author_name}</span>\r\n                            </span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {selectStore, selectId, selectClass, deleteClass} from '../store/storeSlice';\r\n\r\nfunction Modal(props){\r\n      const dispatch = useDispatch();\r\n      const store = useSelector(selectStore).payload;\r\n      const id = useSelector(selectId).payload;\r\n      const activeClass = useSelector(selectClass);\r\n\t\t  \r\n      let pic = ['empty'];\r\n      if(id !== undefined && store !== undefined && store !== []) {\r\n        pic = store[id].cover_i;\r\n      }\r\n      let title = ['empty'];\r\n      if(id !== undefined && store !== undefined && store !== []) {\r\n        title = store[id].title;\r\n      }\r\n      let name = ['empty'];\r\n      if(id !== undefined && store !== undefined && store !== []) {\r\n        name = store[id].author_name;\r\n      }\r\n      let date = ['empty'];\r\n      if(id !== undefined && store !== undefined && store !== []) {\r\n        date = store[id].publish_date;\r\n        date = date?.map((elem)=> `(${elem})`) \r\n        date = date?.join(', ');\r\n      }\r\n      let publisher = ['empty'];\r\n      if(id !== undefined && store !== undefined && store !== []) {\r\n        publisher = store[id].publisher;\r\n        publisher = publisher?.map((elem)=> `\"${elem}\"`) \r\n        publisher = publisher?.join(', ');\r\n      }\r\n      let isbn = ['empty'];\r\n      if(id !== undefined && store !== undefined && store !== []) {\r\n        isbn = store[id].isbn;\r\n        isbn = isbn?.join(', ');\r\n      }\r\n\r\n    function closeHandler(){\r\n      dispatch(deleteClass());\r\n      document.body.style.overflow = \"visible\";\r\n    }\r\n\r\n\treturn(\r\n\t\t<>\r\n\t\t\t<div className=\"container\">\r\n        <div className=\"row\">\r\n          <div  className={`${activeClass} modal-block`}>\r\n            <div className={`modal-wrap`}>\r\n              <div className=\"col-sm-12 col-lg-3 sm-mb\">\r\n              <div onClick={closeHandler} className=\"close\">\r\n                <i className=\"fas fa-times fa-2x\"></i>\r\n              </div >\r\n                <div className=\"modal-img\">\r\n                  <img className=\"md-img lg-img\" src={`https://covers.openlibrary.org/b/id/${pic}-L.jpg`} alt=\"cover\"/>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-12 col-lg-9\">\r\n                <div className=\"modal-desc\">\r\n                  <div className=\"title\"><span>Название:</span> {title}</div>\r\n                  <div className=\"author-name\"><span>Автор:</span> {name}</div>\r\n                  <div className=\"publish-date\"><span>Дата публикации:</span> {date}</div>\r\n                  <div className=\"publisher\"><span>Издатель:</span> {publisher}</div>\r\n                  <div className=\"ISBN\"><span>ISBN книги</span>: {isbn}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Modal;","import './App.css';\nimport './css/grid.css';\nimport './css/style.css';\n\nimport Search from './components/Search';\nimport Modal from './components/Modal';\n\n\n\nfunction App() {\n  return (\n    <div>\n      <Modal/>\n      <Search/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {configureStore} from '@reduxjs/toolkit';\r\nimport storeReducer from './storeSlice';\r\n\r\nexport default configureStore({\r\n\treducer: {\r\n\t\tstore: storeReducer\r\n\t}\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store/store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n  <Provider store={store} >\n    <App />\n  </Provider>\n  \t\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}